{{ block scripts }}
<script src="{{ static 'js/bootstrap_components.js' }}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
{{ endblock }}

{{ block styles }}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
{{ endblock }}


{{ block content }}
<body class="bg-light.bg-gradient">

    <!-- Header -->
    <nav class="navbar navbar-inverse m-0 p-0 sticky-top mb-4 justify-content-between bg-white shadow-sm" style="z-index:1">
        <i></i>
        <h5 class="m-3 text-primary"><strong>#MVFW</strong></h5>
        <div class="me-3" style="cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-person-circle me-2" viewBox="0 0 16 16" data-bs-toggle="offcanvas" data-bs-target="#offcanvasInstructions" aria-controls="offcanvasInstructions" id="instructions_icon">
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-fingerprint d-lg-none" viewBox="0 0 16 16" data-bs-toggle="popover"
                    data-bs-content="You have been asigned the following ID: {{ participant.code }}. Please use it to identify yourself if you encounter any problems">
                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
              <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
            </svg>
        </div>
    </nav>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-sm-12 col-md-8 col-lg-6 p-0">
                <table class="table table-hover border-top border-start border-end p-0 m-0" id="tweet_table">
                    <tbody>
                        <tr>
                            <td>
                                <div class="row justify-content-start">
                                    <div class="col-2">
                                        <div class="poster p1 ms-3">
                                            <h4>Fa</h4>
                                        </div>
                                    </div>
                                    <div class="col-9 me-0">
                                        <div class="card-body">
                                            <h5 class="card-title"></h5>
                                            <h6 class="card-subtitle mb-2">
                                                <a style="cursor: pointer;">
                                                    Fashionista
                                                </a>
                                                <small class="text-muted"> therealfashionista &middot; 22 Mar </small>
                                                <!--<a class="bi bi-link-45deg text-secondary" href="https://github.com/Howquez/mvfw" target="_blank" data-bs-toggle="tooltip" data-bs-placement="right" title="View Source"></a>-->
                                            </h6>
                                            <p class="card-text">
                                                <small>
                                                    Fashion week in the metaverse? Yes please! Notable fashion brands
                                                    such as Estrava, Avenzio, and many more took on Decentraland to take
                                                    part in the virtual event. Learn more about the runway shows and
                                                    their interactive experiences at
                                                    <span class="text-primary"> https://t.co/yOyGFybePT</span>
                                                </small>
                                            </p>
                                        </div>

                                        <!--<img src="https://pbs.twimg.com/media/FOep7WIWQAgh1E9.jpg" class="card-img ps-3" alt="...">
                                        <br><br>-->
                                        <div class="d-flex border-top-0 justify-content-around">
                                            <i class="bi bi-chat text-secondary">&nbsp;0&emsp;</i>
                                            <i class="bi bi-arrow-repeat text-secondary">&nbsp;1&emsp;</i>
                                            <i class="bi bi-heart text-secondary">&nbsp;4&emsp;</i>
                                            <i class="bi bi-upload text-secondary"></i>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        {{ for i in tweets.values() }}
                        <tr>
                            <td>
                                <div class="row justify-content-start">
                                    <div class="col-2">
                                        <div class="poster p1 ms-3">
                                            <h4>{{i.icon}}</h4>
                                        </div>
                                    </div>
                                    <div class="col-9 me-0">
                                        <div class="card-body">
                                            <h5 class="card-title"></h5>
                                            <h6 class="card-subtitle mb-2">
                                                <a style="cursor: pointer;"
                                                   data-bs-toggle="tooltip"
                                                   data-bs-placement="bottom"
                                                   data-bs-html="true"
                                                   data-bs-custom-class="custom-tooltip"
                                                   title="<div class='text-start text-secondary'><b class='text-dark'>{{i.username}}</b><br>
                                                   @{{i.handle}}<br><br>
                                                   {{i.user_description}} <br><br><b class='text-dark'>{{i.user_followers}}</b> Followers</div>">
                                                    {{i.handle}}
                                                </a>
                                                <small class="text-muted"> {{i.username}} &middot; {{i.date}}.</small>
                                                <!--
                                                <a class="bi bi-link-45deg text-secondary"
                                                   href="{{i.tweet_URL}}"
                                                   target="_blank"
                                                   data-bs-toggle="tooltip"
                                                   data-bs-placement="right"
                                                   title="View Source"></a>
                                                 -->
                                            </h6>
                                            <p class="card-text">
                                                <small>{{i.tweet}}</small>
                                            </p>
                                        </div>

                                        {{ if i.pic_available == True}}
                                            <img src="{{i.media}}" class="card-img ps-0 mt-2 rounded-4" alt="...">
                                        {{ endif }}
                                        <div class="d-flex border-top-0 justify-content-around mt-3">
                                            <i class="bi bi-chat text-secondary">&nbsp;{{i.replies}}&emsp;</i>
                                            <i class="bi bi-arrow-repeat text-secondary">&nbsp;{{i.retweets}}&emsp;</i>
                                            <i class="bi bi-heart text-secondary">&nbsp;{{i.likes}}&emsp;</i>
                                            <i class="bi bi-upload text-secondary"></i>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        {{ endfor }}
                        <tr>
                            <td class="d-flex justify-content-center">
                                <button class="btn btn-outline-dark btn-sm m-2" type="submit" id="submitButton">
                                    Submit
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- User ID -->
    <div class="sticky-bottom d-none d-lg-block">
        <div class="container text-secondary">
            <div class="row justify-content-start">
                <div class="col-1">
                    <h1 class="text-end">
                        <i class="bi bi-person-circle sticky-bottom" data-bs-toggle="popover"
                           data-bs-content="You have been asigned the following ID: {{ participant.code }}. Please use it to identify yourself if you encounter any problems."></i>
                    </h1>
                </div>
                <div class="col-2 text-start">
                    <small>
                        Your ID:<br>
                        <b class="text-dark">{{ participant.code }}</b>
                    </small>
                </div>
            </div>
        </div>
        <br><br>
    </div>

    <!-- Instructions Offcanvas -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasInstructions" aria-labelledby="offcanvasInstructionsLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasInstructionsLabel">Instructions</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div>
                {{ include C.RULES_TEMPLATE }}
            </div>

        </div>
    </div>

{{ endblock }}